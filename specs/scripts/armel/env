#!/bin/bash

# These are needed by GCC
ARCH="arm" # armv7a ?
ABI="gnueabi"
CTARGET="${ARCH}-unknown-linux-${ABI}"
export ARCH ABI CTARGET

MAKEOPTS="-j 5"
CFLAGS="-O2 -pipe -march=armv7-a -mfpu=vfpv3-d16 -mfloat-abi=softfp"
CXXFLAGS="${CXXFLAGS}"
LDFLAGS="-Wl,-O1 -Wl,--as-needed"

export CFLAGS CXXFLAGS LDFLAGS MAKEOPTS

# Linux kernel configuration, either set KERNEL_DEFCONFIG or KERNEL_CONFIG
KERNEL_DEFCONFIG=""
KERNEL_CONFIG="../kernel/armv7_config"
KERNEL_MD5=$(md5sum "${KERNEL_CONFIG}")

export KERNEL_DEFCONFIG KERNEL_CONFIG KERNEL_MD5

# Busybox configuration, either set BUSYBOX_DEFCONFIG or BUSYBOX_CONFIG
BUSYBOX_DEFCONFIG=""
BUSYBOX_CONFIG="../busybox/config"
BUSYBOX_MD5=$(md5sum "${BUSYBOX_CONFIG}")

export BUSYBOX_DEFCONFIG BUSYBOX_CONFIG BUSYBOX_MD5
